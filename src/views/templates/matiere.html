<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Gestion des matières scolaires" />
    <link rel="stylesheet" href="../../style.css" />
    <link rel="icon" type="image/png"  sizes="40x40"  href="./Images/Logo.png">
    
    
    <link rel="apple-touch-icon" href="../../../public">
    <title>Gestion des matières</title>

   

    <script type="module">
 

      import { Matiere } from "../../models/Matiere.model";
      import { MatiereView } from "../../views/MatiereView";
      import { MatiereController } from "../../Controller/MatiereController";

      document.addEventListener("DOMContentLoaded", async () => {
        const container = document.getElementById("matiere-container");

        if (!container) {
          console.error(
            "Le conteneur #matiere-container n'existe pas dans le DOM"
          );
          return;
        }

        try {
          // Création du controller
          const controller = new MatiereController(container);

          // Initialisation (charge les données + rend la vue)
          await controller.init();

          console.log(
            "Application de gestion des matières chargée avec succès"
          );
        } catch (err) {
          console.error(
            "Erreur lors de l'initialisation de l'application :",
            err
          );
          container.innerHTML = `
          <div style="color: red; padding: 20px; text-align: center;">
            <h3>Erreur de chargement</h3>
            <p>${err.message || "Une erreur est survenue."}</p>
          </div>
        `;
        }
      });
    </script>
  </head>
  <body>
    <header>


    <main>
      <div id="matiere-container">
 <div id="loader" class="fixed inset-0 z-50 flex items-center justify-center transition-opacity duration-500 bg-linear-to-br from-gray-50 to-gray-100">
    <div class="text-center">
      <div class="relative w-24 h-24 mx-auto mb-6">
       
        <div class="absolute inset-0 border-4 border-solid rounded-full border-t-yellow-500 border-r-pink-500 border-b-yellow-500 border-l-pink-500 animate-spin"></div>
            
        <div class="absolute inset-0 flex items-center justify-center">
          <i class="text-5xl text-yellow-500 fas fa-book-open animate-pulse"></i>
        </div>
      </div>
      </div>
    </main>


    <script type="module" src="../../main.js">
  
    </script>
  </body>
</html>
